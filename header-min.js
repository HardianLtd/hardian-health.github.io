function styleBlogTagNavigation(){window.location.pathname.includes("/blog")&&$(document).ready((function(){var e=window.location.pathname;$('section[data-section-id="63936a7c3d674d7079783a93"] a').each((function(){e==$(this).attr("href")&&(console.log(" ✅ Blog Tag Navigation — Current URL and the link matches. Lets style it to be active:"+$(this).text()),$(this).addClass("active-filter"))}))}))}console.log("Header production JS Started"),$(document).ready((function(){window.location.pathname.includes("/blog/")&&$("article").length&&(console.log("blog page and article found. LEt's fix meta categories and tags"),$("<div class='custom-metabox'></div>").insertAfter(".blog-item-author-profile-wrapper"),$("div.blog-meta-item.blog-meta-item--tags").prependTo(".custom-metabox"),$("div.blog-meta-item.blog-meta-item--categories").prependTo(".custom-metabox"),$("<span class='custom-meta-label category-label'>Categories:</span>").prependTo("div.blog-meta-item.blog-meta-item--categories"),$("<span class=' custom-meta-label custom-tag-label'>Tags:</span>").prependTo("div.blog-meta-item.blog-meta-item--tags"))})),$(document).ready((function(){if(window.location.pathname.includes("/blog/category/")){console.log("category page - filtering enabled"),$("body").addClass("blog-category-filtered");var e=window.location.pathname;console.log(),$(".blog-categories-list a").each((function(t){var o=$(this).attr("href");console.log(o),o==e&&(console.log("ACTIVATE THIS ONE"),$(this).addClass("blog-post-category-current-filter active-filter"))}))}})),styleBlogTagNavigation(),$(document).ready((function(){$(".form-item.field.text:contains('UTM'), .form-item.field.text:contains('GTM')").addClass("GTM-hidden-field-hide")})),$(document).ready((function(){$("time.blog-date").each((function(e,t){console.log(o);var o=$(this).text().split("/");console.log(o);var i=o[0];i.length<=1?(console.log("blog grid month is single digit. Let's add a 0"),i="0"+i):console.log("blog grid month is double digit. So it's cool as is");var a=o[1];a.length<=1?(console.log("blog grid day is single digit. Let's add a 0"),a="0"+a):console.log("blog grid day is double digit. So it's cool as is");var n=o[2];$(this).html("20"+n+"-"+i+"-"+a).addClass("dateFormatted-and-ready-to-show")}))})),$(document).ready((function(){if(document.querySelector("meta[itemprop=datePublished]")){console.log("yes");var e=$('meta[itemprop="datePublished"]').attr("content");console.log(e);var t=e.split("T");console.log(t);var o=t[0].split("-");console.log(o);var i=o[0],a=o[1],n=o[2];$(".blog-meta-item--date span").html(i+"-"+a+"-"+n).addClass("dateFormatted-and-ready-to-show")}else console.log("No meta description for blog date")})),$(document).ready((function(){$("time.summary-metadata-item--date").each((function(e,t){var o=$(this).attr("datetime").split("-"),i=o[0],a=o[1],n=o[2];$(this).html(i+"-"+a+"-"+n).addClass("dateFormatted-and-ready-to-show")}))}));try{var howLongWeShowALineFor=2500,howCloseShouldTheAnimationsOverlap=360,letterspeed=45;$(document).ready((function(){var e=$("h1, h2, h3").has("span[style*='line-through']");e.css("white-space","normal"),e.addClass("codetonic-textanimation-one");var t=e.children("span")[0].innerHTML.split("<br>");e.html(t[0]+'<br><span class="container"></span>');for(var o=1;o<t.length;o++)console.log(t[o]),$("span.container").append("<span class='word'>"+t[o]+"</span>");var i=document.getElementsByClassName("word"),a=[],n=0;i[n].style.opacity=1;for(o=0;o<i.length;o++)c(i[o]);function r(){for(var e=a[n],t=n==i.length-1?a[0]:a[n+1],o=0;o<e.length;o++)l(e,o);for(o=0;o<t.length;o++)t[o].className="letter behind",t[0].parentElement.style.opacity=1,s(t,o);n=n==a.length-1?0:n+1}function l(e,t){setTimeout((function(){e[t].className="letter out"}),t*letterspeed)}function s(e,t){setTimeout((function(){e[t].className="letter in"}),howCloseShouldTheAnimationsOverlap+t*letterspeed)}function c(e){var t=e.innerHTML;e.innerHTML="";for(var o=[],i=0;i<t.length;i++){var n=document.createElement("span");n.className="letter",n.innerHTML=t.charAt(i),e.appendChild(n),o.push(n)}a.push(o)}r(),setInterval(r,howLongWeShowALineFor)}))}catch(e){}console.log("Header production ran to the end"),console.log("Header production ran to the end");const links=[],htmlLinks=document.querySelectorAll(".grid-item");htmlLinks.forEach((e=>{links.push({tubeStop:e.href.replace(window.location.origin,"").replace(/^\//,""),description:e.querySelector(".portfolio-title").innerText})})),console.log(links);const descriptions=[{tubeStop:"services/clinical/inteded-use-pre-market",description:"Description for Indeded Use lorem ipsum stuff yeah cool nice gr eat text more text."},{tubeStop:"services/clinical/risk-classification-pre-market",description:"Description for Risk Classification lorem ipsum stuff yeah cool nice great text more text."},{tubeStop:"services/clinical/pico-pre-market",description:"Description for PICO lorem ipsum stuff yeah cool nice great text more text."},{tubeStop:"services/clinical/pathwayvalidation-pre-market",description:"Description for Pathway validation lorem ipsum stuff yeah cool nice great text more text."},{tubeStop:"services/clinical/medical-device-file-design-pre-market",description:"Description for Medical Device File Design lorem ipsum stuff yeah cool nice great text more text."},{tubeStop:"services/clinical/evidence-review-pre-market",description:"Description for Evidence review lorem ipsum stuff yeah cool nice great text more text."},{tubeStop:"services/clinical/clinical-evaluation-plan-pre-market",description:"Description for Clinical Evaluation Plan lorem ipsum stuff yeah cool nice great text more text."},{tubeStop:"services/clinical/literature-review-pre-market",description:"Description for Literature Review lorem ipsum stuff yeah cool nice great text more text."},{tubeStop:"services/clinical/post-market",description:"Description for POST MARKET lorem ipsum stuff yeah cool nice great text more text."},{tubeStop:"services/clinical/prrc-post-market",description:"Description for PRRC lorem ipsum stuff yeah cool nice great text more text."},{tubeStop:"services/clinical/ce-mark-post-market",description:"Description for Getting your CE Mark lorem ipsum stuff yeah cool nice great text more text."}];function addDescriptions(){for(var e=document.querySelectorAll(".grid-item"),t=0;t<e.length;t++)for(var o=e[t].getAttribute("href"),i=0;i<descriptions.length;i++)if(o.includes(descriptions[i].tubeStop)){console.log("YES");var a=document.createElement("p");a.innerHTML=descriptions[i].description,a.classList.add("description");var n=e[t].querySelector(".portfolio-title");n.parentNode.insertBefore(a,n.nextSibling)}}document.addEventListener("DOMContentLoaded",(function(e){}));var myHeaders=new Headers;function fetchAndAddDescriptions(e){var t=window.location.origin+window.location.pathname+"?format=json-pretty";fetch(t,{method:"GET",headers:myHeaders}).then((function(e){return e.json()})).then((function(e){portfolioItems=e.items,portfolioItems.forEach((e=>{e.seoData&&e.seoData.seoDescription?document.querySelectorAll("a.grid-item").forEach((t=>{if(t.getAttribute("href")===e.fullUrl){const o=document.createElement("p");o.classList.add("seo-description"),o.innerHTML=e.seoData.seoDescription+'<span class="pofo-readmore">Read More  <span class="arrow">→</span></span>',t.querySelector(".portfolio-text").appendChild(o)}})):document.querySelectorAll("a.grid-item").forEach((t=>{if(t.getAttribute("href")===e.fullUrl){const e=document.createElement("p");e.classList.add("seo-description"),e.innerHTML='<span class="pofo-readmore">Read More  <span class="arrow">→</span></span>',t.querySelector(".portfolio-text").appendChild(e)}}))}))}))}function addPreMarketAndPostMarketTitles(){$(".grid-item").each((function(e){var t=$(this),o=t.find("h3.portfolio-title").text();o.toLowerCase().includes("pre-market")&&(t.before("<h2 class='timeline-title pre-or-post pre'>"+o+"</h2>"),t.remove()),o.toLowerCase().includes("post-market")&&(t.before("<h2 class='timeline-title pre-or-post post'>"+o+"</h2>"),t.remove())}))}function addNumber(){$(".grid-item").each((function(e){e++;$(this).prepend("<div class='number'>"+e+"</div>")}))}function updateTimelineVerticalLine(){var e=document.querySelector(".tube-item-vertical-line").getBoundingClientRect().top;console.log(e);var t=window.pageYOffset;console.log("window top: "+t);let o=window.innerHeight/2;e<o&&(console.log("ANIMATE"),document.querySelector(".tube-item-vertical-line").style.height=o-e+"px"),document.querySelectorAll(".number").forEach((function(e){e.getBoundingClientRect().top<o?e.classList.add("number-overlap"):e.classList.remove("number-overlap")}))}function getCSSVariableValue(e){return getComputedStyle(document.documentElement).getPropertyValue(e)}function setBodyBackgroundAndThemeColor(e){$("body").css("background",e),$("head").append('<meta name="theme-color" content="'+e+'">')}function keyVerticalSpecificEdits(){var e=window.location.pathname,t=document.querySelector("body");switch(e){case"/blog/category/Health+Economics":case"/health-economics":t.classList.add("health-economics"),console.log("health-economics"),setBodyBackgroundAndThemeColor(getCSSVariableValue("--health-economics-brightpink"));break;case"/blog/category/Intellectual+Property":case"/intellectual-property":t.classList.add("intellectual-property"),console.log("intellectual-property"),setBodyBackgroundAndThemeColor(getCSSVariableValue("--ip-darkblue"));break;case"/blog/category/Regulatory":case"/regulatory":t.classList.add("regulatory"),console.log("regulatory"),setBodyBackgroundAndThemeColor(getCSSVariableValue("--regulatory-mintgreen"));break;case"/blog/category/Strategy":case"/strategy":t.classList.add("strategy"),setBodyBackgroundAndThemeColor(getCSSVariableValue("--strategy-lightblue")),console.log("strategy");break;case"/blog/category/Clinical":case"/clinical":t.classList.add("clinical"),setBodyBackgroundAndThemeColor(getCSSVariableValue("--clinical-purple")),console.log("clinical")}}function getPortfolioPageNumber(){var e=document.title;console.log(e);var t=window.location.origin+window.location.pathname.split("/").slice(0,-1).join("/")+"?format=json-pretty";console.log("fetchUrl: "+t),fetch(t,{method:"GET",headers:myHeaders}).then((function(e){return e.json()})).then((function(t){console.log("json: "+t);var o=0,i="Pre-market",a=0,n=0;t.items.forEach((t=>{t.title.toLowerCase().includes("pre-market")||t.title.toLowerCase().includes("post-market")||o++,t.title.toLowerCase().includes("post-market")&&(i="Post-market"),console.log("preOrPost: "+i+" i: "+o),n=o,console.log("totalNumberOfPortfolioItems: "+n),e.toLowerCase().includes(t.title.toLowerCase())?(console.log("🎉🎉🎉🎉FOUND IT: "+t.title+" VS "+e),a=o):console.log(t.title+" VS "+e+" — not a match.")})),$("p.sqsrte-small:contains('Step')").html(i+" step "+a+"/"+n)}))}function subServicePageTitleAndDescription(){var e=window.location.href+"?format=json-pretty";fetch(e,{method:"GET",headers:myHeaders}).then((function(e){return e.json()})).then((function(e){console.log("json: "+e),console.log("👍👍👍👍👍👍YESSS")}))}document.location.host.includes(".squarespace.com")?(console.log("url contains .squarespace.com so we're assuming it's admin logged in and won't cache the portfolio SEO description"),myHeaders.append("pragma","no-cache"),myHeaders.append("cache-control","no-cache")):console.log("url  DOES NOT contain .squarespace.com. Assuming its' a visitor and will cache portfolio SEO description to make everything quicker"),document.addEventListener("DOMContentLoaded",(function(e){document.querySelector("#gridThumbs.portfolio-grid-basic")&&(console.log("we are on a portfolio page"),fetchAndAddDescriptions())})),$(document).ready((function(){addPreMarketAndPostMarketTitles(),addNumber(),$(".grid-item").first().prepend("<div class='tube-item-vertical-line'></div>")})),window.onscroll=function(){updateTimelineVerticalLine()},window.onresize=function(){updateTimelineVerticalLine()},window.addEventListener("load",(function(){updateTimelineVerticalLine()})),getPortfolioPageNumber(),subServicePageTitleAndDescription(),console.log("👍👍👍👍👍👍YESSS");